#!/usr/bin/env node

const argv = require('minimist')(process.argv.slice(2));
const Servino = require('../src/servino');

const parse = (prop) => {
  try {
    return prop ? JSON.parse(prop) : prop
  } catch (error) {
    return null
  }
}

Servino({
  configFile: argv.config || argv.c,

  host: argv.host || argv.h,
  port: argv.port || argv.p,
  root: argv.root || argv.r,

  delay: argv.delay || argv.d,

  wdir: argv.wdir || argv.w,

  inject: parse(argv.inject),
  verbose: parse(argv.verbose || argv.v),
  open: parse(argv.open || argv.o),

  ignore: argv.ignore || argv.i
});  
